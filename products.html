<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>The Smurfs (2011) - Products</title>
  <link rel="stylesheet" href="rsc/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <style>
    .smurf-img { object-fit: cover; height: 180px; }
    .cart-badge { position: relative; top: -2px; }
  </style>
</head>

<body class="bg-black text-white">

  <!-- Header -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-black border-bottom border-secondary shadow sticky-top">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="index.html">
        <img src="media/img/The_Smurfs_logo.png" alt="Smurfs Logo" width="40" height="28" class="me-2">
        The Smurfs (2011)
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navMain">
        <ul class="navbar-nav ms-auto me-3">
          <li class="nav-item"><a class="nav-link text-white" href="index.html#cinema">Cinema</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="characters.html">Characters</a></li>
          <li class="nav-item"><a class="nav-link active text-info" href="products.html">Products</a></li>
        </ul>
        <button class="btn btn-outline-light position-relative" id="cart-button">
          <i class="bi bi-cart-fill"></i>
          <span class="badge bg-danger cart-badge" id="cart-count">0</span>
        </button>
      </div>
    </div>
  </nav>

  <main class="container py-5">

    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="mb-0">Merchandise — The Smurfs (2011)</h2>
    </div>

    <!-- Products Grid -->
    <div class="row row-cols-4 g-4">

      <!-- All 12 cards -->
      <div class="col">
        <div class="card h-100 shadow-sm bg-light text-dark">
          <img src="media/img/Smurf Mug.jpg" class="card-img-top" style="height:180px; object-fit:contain;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Smurfs Mug</h5>
            <p class="card-text flex-grow-1">Ceramic mug featuring the Smurfs.</p>
            <button class="btn btn-primary add-cart" data-title="Smurfs Mug" data-price="149.99">Add to Cart</button>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 shadow-sm bg-light text-dark">
          <img src="media/img/Papa Smurf Plush.jpg" class="card-img-top" style="height:180px; object-fit:contain;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Papa Smurf Plush</h5>
            <p class="card-text flex-grow-1">Soft plush toy approx. 25cm tall.</p>
            <button class="btn btn-primary add-cart" data-title="Papa Smurf Plush" data-price="349.99">Add to Cart</button>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 shadow-sm bg-light text-dark">
          <img src="media/img/Smurfette T-Shirt.jpg" class="card-img-top" style="height:180px; object-fit:contain;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Smurfette T-Shirt</h5>
            <p class="card-text flex-grow-1">Soft cotton tee with Smurfette print.</p>
            <button class="btn btn-primary add-cart" data-title="Smurfette T-Shirt" data-price="349.99">Add to Cart</button>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 shadow-sm bg-light text-dark">
          <img src="media/img/Clumsy Keychain.jpg" class="card-img-top" style="height:180px; object-fit:contain;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Clumsy Smurf Keychain</h5>
            <p class="card-text flex-grow-1">Keychain of Clumsy Smurf.</p>
            <button class="btn btn-primary add-cart" data-title="Clumsy Smurf Keychain" data-price="129.99">Add to Cart</button>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 shadow-sm bg-light text-dark">
          <img src="media/img/Vinyl.webp" class="card-img-top" style="height:180px; object-fit:contain;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Vinyl Soundtrack</h5>
            <p class="card-text flex-grow-1">Limited edition soundtrack vinyl.</p>
            <button class="btn btn-primary add-cart" data-title="Vinyl Soundtrack" data-price="2,799.99">Add to Cart</button>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 shadow-sm bg-light text-dark">
          <img src="media/img/water bottle.jpg" class="card-img-top" style="height:180px; object-fit:contain;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Smurfs Water Bottle</h5>
            <p class="card-text flex-grow-1">Insulated stainless steel bottle.</p>
            <button class="btn btn-primary add-cart" data-title="Water Bottle" data-price="169.99">Add to Cart</button>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 shadow-sm bg-light text-dark">
          <img src="media/img/Puzzle.jpg" class="card-img-top" style="height:180px; object-fit:contain;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">1000pcs Puzzle</h5>
            <p class="card-text flex-grow-1">The Smurfs 1000-piece jigsaw puzzle.</p>
            <button class="btn btn-primary add-cart" data-title="1000pcs Puzzle" data-price="1599.99">Add to Cart</button>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 shadow-sm bg-light text-dark">
          <img src="media/img/poster.jpg" class="card-img-top" style="height:180px; object-fit:contain;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Movie Poster</h5>
            <p class="card-text flex-grow-1">High-quality A2 movie poster.</p>
            <button class="btn btn-primary add-cart" data-title="Movie Poster" data-price="299.99">Add to Cart</button>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 shadow-sm bg-light text-dark">
          <img src="media/img/Smurf hat.jpg" class="card-img-top" style="height:180px; object-fit:contain;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Smurf Hat (Beanie)</h5>
            <p class="card-text flex-grow-1">Soft Smurf-style beanie.</p>
            <button class="btn btn-primary add-cart" data-title="Smurf Hat" data-price="349.99">Add to Cart</button>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 shadow-sm bg-light text-dark">
          <img src="media/img/stickers.webp" class="card-img-top" style="height:180px; object-fit:contain;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">The Smurfs Stickers</h5>
            <p class="card-text flex-grow-1">55 stickers of Smurf characters.</p>
            <button class="btn btn-primary add-cart" data-title="The Smurfs Stickers" data-price="69.50">Add to Cart</button>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 shadow-sm bg-light text-dark">
          <img src="media/img/pins.webp" class="card-img-top" style="height:180px; object-fit:contain;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Pin Set</h5>
            <p class="card-text flex-grow-1">Set of 5 enamel pins.</p>
            <button class="btn btn-primary add-cart" data-title="Pin Set" data-price="139.50">Add to Cart</button>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 shadow-sm bg-light text-dark">
          <img src="media/img/Smurf Tote Bag.jpg" class="card-img-top" style="height:180px; object-fit:contain;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Tote Bag</h5>
            <p class="card-text flex-grow-1">Canvas tote bag with Smurfs artwork.</p>
            <button class="btn btn-primary add-cart" data-title="Tote Bag" data-price="350.00">Add to Cart</button>
          </div>
        </div>
      </div>

    </div>

  </main>

  <!-- Footer -->
  <footer class="bg-black text-white py-4 mt-5 border-top border-secondary">
    <div class="container">
      <div class="row">
        <div class="col-md-4 text-center text-md-start mb-3">
          <h5><img src="media/img/The_Smurfs_logo.png" width="28" class="me-2">The Smurfs</h5>
          <p class="small text-secondary">Official fan merchandise.</p>
        </div>

        <div class="col-md-4 text-center mb-3">
          <h5 class="text-white-50">Developed by:</h5>
          <ul class="small list-unstyled text-secondary">
            <li>Haylie G. Antolin</li>
            <li>Lariane A. Arquero</li>
            <li>Donbenben M. Ramirez</li>
          </ul>
        </div>

        <div class="col-md-4 text-center text-md-end">
          <h5 class="text-white-50">Links</h5>
          <ul class="list-unstyled">
            <li><a href="index.html" class="text-info text-decoration-none">Feature Page</a></li>
            <li><a href="characters.html" class="text-info text-decoration-none">Characters Page</a></li>
            <li><a href="products.html" class="text-info text-decoration-none">Products Page</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer>

  <!-- CART MODAL -->
  <div class="modal fade" id="cartModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content bg-dark text-white">
        <div class="modal-header">
          <h5 class="modal-title">Your Cart</h5>
          <button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body" id="cart-items"></div>

        <div class="modal-footer">
          <h5 class="me-auto mb-0" id="cart-total">Total: ₱0.00</h5>
          <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script src="rsc/js/bootstrap.bundle.min.js"></script>

  <script>
(function () {
  const buttons = document.querySelectorAll('.add-cart');
  const cartCountEl = document.getElementById('cart-count');
  const cartButton = document.getElementById('cart-button');
  const cartItemsContainer = document.getElementById('cart-items');
  const cartTotalEl = document.getElementById('cart-total');

  let cart = [];

  // Load saved cart
  try {
    const saved = sessionStorage.getItem('smurfs_cart');
    if (saved) {
      cart = JSON.parse(saved);
      cartCountEl.textContent = cart.length;
    }
  } catch (e) {}

  function saveCart() {
    sessionStorage.setItem('smurfs_cart', JSON.stringify(cart));
  }

  function renderCart() {
    cartItemsContainer.innerHTML = "";

    if (cart.length === 0) {
      cartItemsContainer.innerHTML = "<p class='text-secondary'>Your cart is empty.</p>";
      cartTotalEl.textContent = "Total: ₱0.00";
      return;
    }

    let total = 0;

    cart.forEach((item, index) => {
      total += item.price;

      const row = document.createElement("div");
      row.className = "d-flex justify-content-between align-items-center border-bottom py-2";

      row.innerHTML = `
        <div>
          <strong>${item.title}</strong><br>
          <small>₱${item.price.toFixed(2)}</small>
        </div>
        <button class="btn btn-sm btn-outline-danger remove-btn" data-index="${index}">
          Remove
        </button>
      `;

      cartItemsContainer.appendChild(row);
    });

    cartTotalEl.textContent = 'Total: ₱${total.toFixed(2)}';

    document.querySelectorAll(".remove-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        const index = btn.dataset.index;
        cart.splice(index, 1);
        saveCart();
        cartCountEl.textContent = cart.length;
        renderCart();
      });
    });
  }

  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      const title = btn.dataset.title;
      const price = parseFloat(btn.dataset.price);

      cart.push({ title, price });
      saveCart();

      cartCountEl.textContent = cart.length;

      const alertBox = document.createElement('div');
      alertBox.className = 'alert alert-success position-fixed bottom-0 end-0 m-3';
      alertBox.style.zIndex = 2000;
      alertBox.textContent = 'Added to cart: ${title}';
      document.body.appendChild(alertBox);
      setTimeout(() => alertBox.remove(), 1800);
    });
  });

  cartButton.addEventListener("click", () => {
    renderCart();
    new bootstrap.Modal(document.getElementById('cartModal')).show();
  });

})();
  </script>

</body>
</html>